import { grenade_flash_Team_player1_2, grenade_flash_Team_player3_4 } from "./init_powerUP_GernadeFlash_multi.js";
import { activateFreezeTeam1, activateFreezeTeam2, isfreeze_team1, isfreeze_team2 } from "./init_power_up_freeze.js";
import { currentSkinPlayer1_multi, currentSkinPlayer2_multi, currentSkinPlayer3_multi, currentSkinPlayer4_multi } from "../init_skin_perso_multi.js";
let minX_player_1;
let maxX_player_1;
let minX_player_2;
let maxX_player_2;
let minX_player_3;
let maxX_player_3;
let minX_player_4;
let maxX_player_4;
function init_border() {
    const borderTop = new BABYLON.MeshBuilder.CreateBox("border", {
        width: 115,
        height: 3,
        depth: 1
    }, scene);
    borderTop.position = new BABYLON.Vector3(25, 300, -72);
    borderTop.rotation = new BABYLON.Vector3(0, Math.PI / 2, 0);
    borderTop.visibility = 0;
    const borderBottom = new BABYLON.MeshBuilder.CreateBox("border", {
        width: 115,
        height: 3,
        depth: 1
    }, scene);
    borderBottom.position = new BABYLON.Vector3(-40, 300, -72);
    borderBottom.rotation = new BABYLON.Vector3(0, Math.PI / 2, 0);
    borderBottom.visibility = 0;
    minX_player_1 = borderBottom.position.x + (borderBottom.scaling.x / 2) + 24;
    maxX_player_1 = borderTop.position.x - (borderTop.scaling.x / 2) - 13;
    minX_player_2 = borderBottom.position.x + (borderBottom.scaling.x / 2) + 36;
    maxX_player_2 = borderTop.position.x - (borderTop.scaling.x / 2) + 0;
    minX_player_3 = borderBottom.position.x + (borderBottom.scaling.x / 2) + 36;
    maxX_player_3 = borderTop.position.x - (borderTop.scaling.x / 2) + 0;
    minX_player_4 = borderBottom.position.x + (borderBottom.scaling.x / 2) + 24;
    maxX_player_4 = borderTop.position.x - (borderTop.scaling.x / 2) - 13;
}
export function init_2v2_Players() {
    init_border();
    // Créer les TransformNodes parents
    const parent_player_1 = new BABYLON.TransformNode("parent_player_1", scene);
    const parent_player_2 = new BABYLON.TransformNode("parent_player_2", scene);
    const parent_player_3 = new BABYLON.TransformNode("parent_player_3", scene);
    const parent_player_4 = new BABYLON.TransformNode("parent_player_4", scene);
    parent_player_1.metadata = { isPlayer_parent: true };
    parent_player_2.metadata = { isPlayer_parent: true };
    parent_player_3.metadata = { isPlayer_parent: true };
    parent_player_4.metadata = { isPlayer_parent: true };
    // Joueur 1
    const paddle_left_player_1 = createPaddle("paddle_left_player_1", new BABYLON.Vector3(-18, 301, -120), parent_player_1);
    const paddle_right_player_1 = createPaddle("paddle_right_player_1", new BABYLON.Vector3(7, 301, -120), parent_player_1);
    // Joueur 2
    const paddle_left_player_2 = createPaddle("paddle_left_player_2", new BABYLON.Vector3(-30, 301, -108), parent_player_2);
    const paddle_right_player_2 = createPaddle("paddle_right_player_2", new BABYLON.Vector3(-5, 301, -108), parent_player_2);
    // Joueur 3
    const paddle_left_player_3 = createPaddle("paddle_left_player_3", new BABYLON.Vector3(-30, 301, -36), parent_player_3);
    const paddle_right_player_3 = createPaddle("paddle_right_player_3", new BABYLON.Vector3(-5, 301, -36), parent_player_3);
    // Joueur 4
    const paddle_left_player_4 = createPaddle("paddle_left_player_4", new BABYLON.Vector3(-18, 301, -24), parent_player_4);
    const paddle_right_player_4 = createPaddle("paddle_right_player_4", new BABYLON.Vector3(7, 301, -24), parent_player_4);
    // Stocker les paddles directement dans les objets parents pour un accès facile
    parent_player_1.leftPaddle = paddle_left_player_1;
    parent_player_1.rightPaddle = paddle_right_player_1;
    parent_player_2.leftPaddle = paddle_left_player_2;
    parent_player_2.rightPaddle = paddle_right_player_2;
    parent_player_3.leftPaddle = paddle_left_player_3;
    parent_player_3.rightPaddle = paddle_right_player_3;
    parent_player_4.leftPaddle = paddle_left_player_4;
    parent_player_4.rightPaddle = paddle_right_player_4;
    paddle_left_player_1.metadata = { isPlayer_paddle: true };
    paddle_right_player_1.metadata = { isPlayer_paddle: true };
    paddle_left_player_2.metadata = { isPlayer_paddle: true };
    paddle_right_player_2.metadata = { isPlayer_paddle: true };
    paddle_left_player_3.metadata = { isPlayer_paddle: true };
    paddle_right_player_3.metadata = { isPlayer_paddle: true };
    paddle_left_player_4.metadata = { isPlayer_paddle: true };
    paddle_right_player_4.metadata = { isPlayer_paddle: true };
    return [parent_player_1, parent_player_2, parent_player_3, parent_player_4];
}
// Fonction utilitaire pour créer un paddle
function createPaddle(name, position, parent) {
    const paddle = new BABYLON.MeshBuilder.CreateBox(name, {
        width: 10,
        height: 1.5,
        depth: 1.5
    }, scene);
    paddle.position = position;
    paddle.checkPaddleCollision = true;
    paddle.visibility = 0;
    paddle.setParent(parent);
    console.log("parent === ", parent.name);
    // Fonction pour importer un mesh joueur
    function importPlayerMesh(path, filename) {
        BABYLON.SceneLoader.ImportMesh("", path, filename, scene, function (newMeshes) {
            const rootMesh = newMeshes.find(mesh => mesh.name === "__root__");
            if (rootMesh) {
                rootMesh.position = paddle.getAbsolutePosition().clone();
                rootMesh.scaling = new BABYLON.Vector3(6, 6, 6);
                // console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa");
                rootMesh.rotationQuaternion = BABYLON.Quaternion.FromEulerAngles(0, Math.PI, 0);
                rootMesh.metadata = { isPlayer: true };
            }
            if (parent.name === "parent_player_1" || parent.name === "parent_player_2") {
                newMeshes.forEach(mesh => {
                    if (mesh instanceof BABYLON.Mesh) {
                        mesh.rotation = new BABYLON.Vector3(Math.PI, 0, 0);
                    }
                });
            }
            // Créer un repère pour la position du joueur
            const playerRepere = new BABYLON.MeshBuilder.CreateBox("playerRepere", {
                width: 10,
                height: 0.1,
                depth: 1
            }, scene);
            playerRepere.position = paddle.getAbsolutePosition().clone();
            playerRepere.material = new BABYLON.StandardMaterial("playerRepereMat", scene);
            playerRepere.material.emissiveColor = new BABYLON.Color3.Red();
            playerRepere.metadata = { isPlayerRepere: true };
            // Synchroniser la position ABSOLUE avec le paddle
            scene.registerBeforeRender(() => {
                const paddleAbsPos = paddle.getAbsolutePosition();
                rootMesh.position.copyFrom(paddleAbsPos);
                playerRepere.position.copyFrom(paddleAbsPos);
            });
        });
    }
    // Vérification du parent et chargement du modèle 3D approprié
    if (parent.name.startsWith("parent_player_")) {
        console.log("JE SUIS LA ");
        // Cas spécial pour "parent_player_4" avec plusieurs skins
        if (parent.name === "parent_player_4") {
            let skinPath = null;
            let skinFile = null;
            if (currentSkinPlayer4_multi === 0) {
                skinPath = "/srcs/game/assets/player/";
                skinFile = "PlayerIdleAnnimation.glb";
            }
            else if (currentSkinPlayer4_multi === 1) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_bleu.glb";
            }
            else if (currentSkinPlayer4_multi === 2) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_rouge.glb";
            }
            else if (currentSkinPlayer4_multi === 3) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_vert.glb";
            }
            importPlayerMesh(skinPath, skinFile);
        }
        else if (parent.name === "parent_player_3") {
            let skinPath = null;
            let skinFile = null;
            if (currentSkinPlayer3_multi === 0) {
                skinPath = "/srcs/game/assets/player/";
                skinFile = "PlayerIdleAnnimation.glb";
            }
            if (currentSkinPlayer3_multi === 1) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_bleu.glb";
            }
            else if (currentSkinPlayer3_multi === 2) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_rouge.glb";
            }
            else if (currentSkinPlayer3_multi === 3) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_vert.glb";
            }
            importPlayerMesh(skinPath, skinFile);
        }
        else if (parent.name === "parent_player_2") {
            let skinPath = null;
            let skinFile = null;
            if (currentSkinPlayer2_multi === 0) {
                skinPath = "/srcs/game/assets/player/";
                skinFile = "PlayerIdleAnnimation.glb";
            }
            else if (currentSkinPlayer2_multi === 1) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_bleu.glb";
            }
            else if (currentSkinPlayer2_multi === 2) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_rouge.glb";
            }
            else if (currentSkinPlayer2_multi === 3) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_vert.glb";
            }
            importPlayerMesh(skinPath, skinFile);
        }
        else if (parent.name === "parent_player_1") {
            let skinPath = null;
            let skinFile = null;
            if (currentSkinPlayer1_multi === 0) {
                skinPath = "/srcs/game/assets/player/";
                skinFile = "PlayerIdleAnnimation.glb";
            }
            else if (currentSkinPlayer1_multi === 1) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_bleu.glb";
            }
            else if (currentSkinPlayer1_multi === 2) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_rouge.glb";
            }
            else if (currentSkinPlayer1_multi === 3) {
                skinPath = "/srcs/game/assets/player_skin/";
                skinFile = "idle_vert.glb";
            }
            importPlayerMesh(skinPath, skinFile);
        }
        // Cas général pour les autres joueurs
    }
    return paddle;
}
const paddleSpeed = 1.1;
const keys = {};
addEventListener("keydown", (event) => keys[event.key] = true);
addEventListener("keyup", (event) => keys[event.key] = false);
export function reset_player_pos_multi(player_1, player_2, player_3, player_4) {
    try {
        // Réinitialiser player_1
        if (player_1 && player_1.leftPaddle && player_1.rightPaddle) {
            player_1.leftPaddle.position.x = -18;
            player_1.rightPaddle.position.x = 7;
            player_1.leftPaddle.position.z = -120;
            player_1.rightPaddle.position.z = -120;
            player_1.leftPaddle.position.y = 301;
            player_1.rightPaddle.position.y = 301;
        }
        // Réinitialiser player_2
        if (player_2 && player_2.leftPaddle && player_2.rightPaddle) {
            player_2.leftPaddle.position.x = -30;
            player_2.rightPaddle.position.x = -5;
            player_2.leftPaddle.position.z = -108;
            player_2.rightPaddle.position.z = -108;
            player_2.leftPaddle.position.y = 301;
            player_2.rightPaddle.position.y = 301;
        }
        // Réinitialiser player_3
        if (player_3 && player_3.leftPaddle && player_3.rightPaddle) {
            player_3.leftPaddle.position.x = -30;
            player_3.rightPaddle.position.x = -5;
            player_3.leftPaddle.position.z = -36;
            player_3.rightPaddle.position.z = -36;
            player_3.leftPaddle.position.y = 301;
            player_3.rightPaddle.position.y = 301;
        }
        // Réinitialiser player_4
        if (player_4 && player_4.leftPaddle && player_4.rightPaddle) {
            player_4.leftPaddle.position.x = -18;
            player_4.rightPaddle.position.x = 7;
            player_4.leftPaddle.position.z = -24;
            player_4.rightPaddle.position.z = -24;
            player_4.leftPaddle.position.y = 301;
            player_4.rightPaddle.position.y = 301;
        }
        // Réinitialiser également les positions des parents si nécessaire
        if (player_1)
            player_1.position = new BABYLON.Vector3(0, 0, 0);
        if (player_2)
            player_2.position = new BABYLON.Vector3(0, 0, 0);
        if (player_3)
            player_3.position = new BABYLON.Vector3(0, 0, 0);
        if (player_4)
            player_4.position = new BABYLON.Vector3(0, 0, 0);
        console.log("Player positions reset successfully");
    }
    catch (error) {
        console.error("Error resetting player positions:", error);
    }
}
export function UpdatePLayerPoseMulti(player_1, player_2, player_3, player_4) {
    if (isfreeze_team1 == false) {
        if (keys["w"] && player_1.position.x > minX_player_1) {
            player_1.position.x -= paddleSpeed;
        }
        if (keys["s"] && player_1.position.x < maxX_player_1) {
            player_1.position.x += paddleSpeed;
        }
        if (keys["e"] && player_2.position.x > minX_player_2) {
            player_2.position.x -= paddleSpeed;
        }
        if (keys["d"] && player_2.position.x < maxX_player_2) {
            player_2.position.x += paddleSpeed;
        }
    }
    if (isfreeze_team1 == true) {
        player_1.position.x = player_1.position.x;
        player_2.position.x = player_2.position.x;
    }
    if (isfreeze_team2 == false) {
        if (keys["i"] && player_3.position.x > minX_player_3) {
            player_3.position.x -= paddleSpeed;
        }
        if (keys["k"] && player_3.position.x < maxX_player_3) {
            player_3.position.x += paddleSpeed;
        }
        if (keys["o"] && player_4.position.x > minX_player_4) {
            player_4.position.x -= paddleSpeed;
        }
        if (keys["l"] && player_4.position.x < maxX_player_4) {
            player_4.position.x += paddleSpeed;
        }
    }
    if (isfreeze_team2 == true) {
        player_3.position.x = player_3.position.x;
        player_4.position.x = player_4.position.x;
    }
    if (keys["x"] && !isfreeze_team1) {
        activateFreezeTeam2();
    }
    if (keys["2"] && !isfreeze_team2) {
        activateFreezeTeam1();
    }
    if (keys["z"]) {
        grenade_flash_Team_player1_2();
    }
    if (keys["1"]) {
        grenade_flash_Team_player3_4();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdF9wbGF5ZXJzMnYyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHVibGljL3NyY3MvZ2FtZS9nYW1lcGxheS9tdWx0aXBsYXllci8ydjJfZ2FtZS9pbml0X3BsYXllcnMydjIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLDRCQUE0QixFQUFFLDRCQUE0QixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDbEgsT0FBTyxFQUFFLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNySCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsd0JBQXdCLEVBQUUsd0JBQXdCLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVySixJQUFJLGFBQWEsQ0FBQztBQUNsQixJQUFJLGFBQWEsQ0FBQztBQUVsQixJQUFJLGFBQWEsQ0FBQztBQUNsQixJQUFJLGFBQWEsQ0FBQztBQUVsQixJQUFJLGFBQWEsQ0FBQztBQUNsQixJQUFJLGFBQWEsQ0FBQztBQUVsQixJQUFJLGFBQWEsQ0FBQztBQUNsQixJQUFJLGFBQWEsQ0FBQztBQUVsQixTQUFTLFdBQVc7SUFFbkIsTUFBTSxTQUFTLEdBQUcsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUU7UUFDN0QsS0FBSyxFQUFFLEdBQUc7UUFDVixNQUFNLEVBQUUsQ0FBQztRQUNULEtBQUssRUFBRSxDQUFDO0tBQ1IsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNWLFNBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN2RCxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxD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LEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDdkMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNyQyxRQUFRLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzFDLENBQUM7UUFFRCx5QkFBeUI7UUFDekIsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLFVBQVUsSUFBSSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDMUQsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3JDLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNyQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDdEMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQ3ZDLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDckMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUMxQyxDQUFDO1FBRUQseUJBQXlCO1FBQ3pCLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxVQUFVLElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzFELFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNyQyxRQUFRLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3JDLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUN0QyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3JDLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDMUMsQ0FBQztRQUVELHlCQUF5QjtRQUN6QixJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsVUFBVSxJQUFJLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMxRCxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDckMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNwQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDckMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3RDLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDckMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUMxQyxDQUFDO1FBRUQsa0VBQWtFO1FBQ2xFLElBQUksUUFBUTtZQUFFLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0QsSUFBSSxRQUFRO1lBQUUsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLFFBQVE7WUFBRSxRQUFRLENBQUMsUUFBUSxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9ELElBQUksUUFBUTtZQUFFLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFL0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLEtBQUssQ0FBQyxtQ0FBbUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM5RCxDQUFDO0FBRUwsQ0FBQztBQUdELE1BQU0sVUFBVSxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRO0lBRTNFLElBQUksY0FBYyxJQUFJLEtBQUssRUFDM0IsQ0FBQztRQUNBLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLGFBQWEsRUFBRSxDQUFDO1lBQ3RELFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQztRQUNwQyxDQUFDO1FBQ0QsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsYUFBYSxFQUFFLENBQUM7WUFDdEQsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDO1FBQ3BDLENBQUM7UUFFRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxhQUFhLEVBQUUsQ0FBQztZQUN0RCxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUM7UUFDcEMsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLGFBQWEsRUFBRSxDQUFDO1lBQ3RELFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQztRQUNwQyxDQUFDO0lBQ0YsQ0FBQztJQUVELElBQUksY0FBYyxJQUFJLElBQUksRUFDMUIsQ0FBQztRQUNBLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxJQUFJLGNBQWMsSUFBSSxLQUFLLEVBQzNCLENBQUM7UUFDQSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxhQUFhLEVBQUUsQ0FBQztZQUN0RCxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUM7UUFDcEMsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLGFBQWEsRUFBRSxDQUFDO1lBQ3RELFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQztRQUNwQyxDQUFDO1FBQ0QsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsYUFBYSxFQUFFLENBQUM7WUFDdEQsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDO1FBQ3BDLENBQUM7UUFDRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxhQUFhLEVBQUUsQ0FBQztZQUN0RCxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUM7UUFDcEMsQ0FBQztJQUNGLENBQUM7SUFFRCxJQUFJLGNBQWMsSUFBSSxJQUFJLEVBQzFCLENBQUM7UUFDQSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUMxQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUM1QixtQkFBbUIsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQy9CLG1CQUFtQixFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUdKLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUNiLENBQUM7UUFDQSw0QkFBNEIsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDYixDQUFDO1FBQ0EsNEJBQTRCLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0FBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdyZW5hZGVfZmxhc2hfVGVhbV9wbGF5ZXIxXzIsIGdyZW5hZGVfZmxhc2hfVGVhbV9wbGF5ZXIzXzQgfSBmcm9tIFwiLi9pbml0X3Bvd2VyVVBfR2VybmFkZUZsYXNoX211bHRpLmpzXCI7XG5pbXBvcnQgeyBhY3RpdmF0ZUZyZWV6ZVRlYW0xLCBhY3RpdmF0ZUZyZWV6ZVRlYW0yLCBpc2ZyZWV6ZV90ZWFtMSwgaXNmcmVlemVfdGVhbTIgfSBmcm9tIFwiLi9pbml0X3Bvd2VyX3VwX2ZyZWV6ZS5qc1wiO1xuaW1wb3J0IHsgY3VycmVudFNraW5QbGF5ZXIxX211bHRpLCBjdXJyZW50U2tpblBsYXllcjJfbXVsdGksIGN1cnJlbnRTa2luUGxheWVyM19tdWx0aSwgY3VycmVudFNraW5QbGF5ZXI0X211bHRpIH0gZnJvbSBcIi4uL2luaXRfc2tpbl9wZXJzb19tdWx0aS5qc1wiO1xuXG5sZXQgbWluWF9wbGF5ZXJfMTtcbmxldCBtYXhYX3BsYXllcl8xO1xuXG5sZXQgbWluWF9wbGF5ZXJfMjtcbmxldCBtYXhYX3BsYXllcl8yO1xuXG5sZXQgbWluWF9wbGF5ZXJfMztcbmxldCBtYXhYX3BsYXllcl8zO1xuXG5sZXQgbWluWF9wbGF5ZXJfNDtcbmxldCBtYXhYX3BsYXllcl80O1xuXG5mdW5jdGlvbiBpbml0X2JvcmRlcigpXG57XG5cdGNvbnN0IGJvcmRlclRvcCA9IG5ldyBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcImJvcmRlclwiLCB7XG5cdFx0d2lkdGg6IDExNSxcblx0XHRoZWlnaHQ6IDMsXG5cdFx0ZGVwdGg6IDFcblx0fSwgc2NlbmUpO1xuXHRib3JkZXJUb3AucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDI1LCAzMDAsIC03Mik7XG5cdGJvcmRlclRvcC5yb3RhdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgTWF0aC5QSSAvIDIsIDApO1xuXHRib3JkZXJUb3AudmlzaWJpbGl0eSA9IDA7XG5cdFxuXHRjb25zdCBib3JkZXJCb3R0b20gPSBuZXcgQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJib3JkZXJcIiwge1xuXHRcdHdpZHRoOiAxMTUsXG5cdFx0aGVpZ2h0OiAzLFxuXHRcdGRlcHRoOiAxXG5cdH0sIHNjZW5lKTtcblx0Ym9yZGVyQm90dG9tLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygtNDAsIDMwMCwgLTcyKTtcblx0Ym9yZGVyQm90dG9tLnJvdGF0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCBNYXRoLlBJIC8gMiwgMCk7XG5cdGJvcmRlckJvdHRvbS52aXNpYmlsaXR5ID0gMDtcblxuXHRtaW5YX3BsYXllcl8xID0gYm9yZGVyQm90dG9tLnBvc2l0aW9uLnggKyAoYm9yZGVyQm90dG9tLnNjYWxpbmcueCAvIDIpICsgMjQ7XG5cdG1heFhfcGxheWVyXzEgPSBib3JkZXJUb3AucG9zaXRpb24ueCAtIChib3JkZXJUb3Auc2NhbGluZy54IC8gMikgLSAxMztcblxuXHRtaW5YX3BsYXllcl8yID0gYm9yZGVyQm90dG9tLnBvc2l0aW9uLnggKyAoYm9yZGVyQm90dG9tLnNjYWxpbmcueCAvIDIpICsgMzY7XG5cdG1heFhfcGxheWVyXzIgPSBib3JkZXJUb3AucG9zaXRpb24ueCAtIChib3JkZXJUb3Auc2NhbGluZy54IC8gMikgKyAwO1xuXG5cdG1pblhfcGxheWVyXzMgPSBib3JkZXJCb3R0b20ucG9zaXRpb24ueCArIChib3JkZXJCb3R0b20uc2NhbGluZy54IC8gMikgKyAzNjtcblx0bWF4WF9wbGF5ZXJfMyA9IGJvcmRlclRvcC5wb3NpdGlvbi54IC0gKGJvcmRlclRvcC5zY2FsaW5nLnggLyAyKSArIDA7XG5cblx0bWluWF9wbGF5ZXJfNCA9IGJvcmRlckJvdHRvbS5wb3NpdGlvbi54ICsgKGJvcmRlckJvdHRvbS5zY2FsaW5nLnggLyAyKSArIDI0O1xuXHRtYXhYX3BsYXllcl80ID0gYm9yZGVyVG9wLnBvc2l0aW9uLnggLSAoYm9yZGVyVG9wLnNjYWxpbmcueCAvIDIpIC0gMTM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0XzJ2Ml9QbGF5ZXJzKCkge1xuXHRpbml0X2JvcmRlcigpO1xuXHRcblx0Ly8gQ3LDqWVyIGxlcyBUcmFuc2Zvcm1Ob2RlcyBwYXJlbnRzXG5cdGNvbnN0IHBhcmVudF9wbGF5ZXJfMSA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJwYXJlbnRfcGxheWVyXzFcIiwgc2NlbmUpO1xuXHRjb25zdCBwYXJlbnRfcGxheWVyXzIgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwicGFyZW50X3BsYXllcl8yXCIsIHNjZW5lKTtcblx0XG5cdGNvbnN0IHBhcmVudF9wbGF5ZXJfMyA9IG5ldyBCQUJZTE9OLlRyYW5zZm9ybU5vZGUoXCJwYXJlbnRfcGxheWVyXzNcIiwgc2NlbmUpO1xuXHRjb25zdCBwYXJlbnRfcGxheWVyXzQgPSBuZXcgQkFCWUxPTi5UcmFuc2Zvcm1Ob2RlKFwicGFyZW50X3BsYXllcl80XCIsIHNjZW5lKTtcblx0cGFyZW50X3BsYXllcl8xLm1ldGFkYXRhID0geyBpc1BsYXllcl9wYXJlbnQ6IHRydWUgfTtcblx0cGFyZW50X3BsYXllcl8yLm1ldGFkYXRhID0geyBpc1BsYXllcl9wYXJlbnQ6IHRydWUgfTtcblx0cGFyZW50X3BsYXllcl8zLm1ldGFkYXRhID0geyBpc1BsYXllcl9wYXJlbnQ6IHRydWUgfTtcblx0cGFyZW50X3BsYXllcl80Lm1ldGFkYXRhID0geyBpc1BsYXllcl9wYXJlbnQ6IHRydWUgfTtcblxuXHQvLyBKb3VldXIgMVxuXHRjb25zdCBwYWRkbGVfbGVmdF9wbGF5ZXJfMSA9IGNyZWF0ZVBhZGRsZShcInBhZGRsZV9sZWZ0X3BsYXllcl8xXCIsIG5ldyBCQUJZTE9OLlZlY3RvcjMoLTE4LCAzMDEsIC0xMjApLCBwYXJlbnRfcGxheWVyXzEpO1xuXHRjb25zdCBwYWRkbGVfcmlnaHRfcGxheWVyXzEgPSBjcmVhdGVQYWRkbGUoXCJwYWRkbGVfcmlnaHRfcGxheWVyXzFcIiwgbmV3IEJBQllMT04uVmVjdG9yMyg3LCAzMDEsIC0xMjApLCBwYXJlbnRfcGxheWVyXzEpO1xuXG5cdC8vIEpvdWV1ciAyXG5cdGNvbnN0IHBhZGRsZV9sZWZ0X3BsYXllcl8yID0gY3JlYXRlUGFkZGxlKFwicGFkZGxlX2xlZnRfcGxheWVyXzJcIiwgbmV3IEJBQllMT04uVmVjdG9yMygtMzAsIDMwMSwgLTEwOCksIHBhcmVudF9wbGF5ZXJfMik7XG5cdGNvbnN0IHBhZGRsZV9yaWdodF9wbGF5ZXJfMiA9IGNyZWF0ZVBhZGRsZShcInBhZGRsZV9yaWdodF9wbGF5ZXJfMlwiLCBuZXcgQkFCWUxPTi5WZWN0b3IzKC01LCAzMDEsIC0xMDgpLCBwYXJlbnRfcGxheWVyXzIpO1xuXG5cdC8vIEpvdWV1ciAzXG5cdGNvbnN0IHBhZGRsZV9sZWZ0X3BsYXllcl8zID0gY3JlYXRlUGFkZGxlKFwicGFkZGxlX2xlZnRfcGxheWVyXzNcIiwgbmV3IEJBQllMT04uVmVjdG9yMygtMzAsIDMwMSwgLTM2KSwgcGFyZW50X3BsYXllcl8zKTtcblx0Y29uc3QgcGFkZGxlX3JpZ2h0X3BsYXllcl8zID0gY3JlYXRlUGFkZGxlKFwicGFkZGxlX3JpZ2h0X3BsYXllcl8zXCIsIG5ldyBCQUJZTE9OLlZlY3RvcjMoLTUsIDMwMSwgLTM2KSwgcGFyZW50X3BsYXllcl8zKTtcblxuXHQvLyBKb3VldXIgNFxuXHRjb25zdCBwYWRkbGVfbGVmdF9wbGF5ZXJfNCA9IGNyZWF0ZVBhZGRsZShcInBhZGRsZV9sZWZ0X3BsYXllcl80XCIsIG5ldyBCQUJZTE9OLlZlY3RvcjMoLTE4LCAzMDEsIC0yNCksIHBhcmVudF9wbGF5ZXJfNCk7XG5cdGNvbnN0IHBhZGRsZV9yaWdodF9wbGF5ZXJfNCA9IGNyZWF0ZVBhZGRsZShcInBhZGRsZV9yaWdodF9wbGF5ZXJfNFwiLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDcsIDMwMSwgLTI0KSwgcGFyZW50X3BsYXllcl80KTtcblxuXHQvLyBTdG9ja2VyIGxlcyBwYWRkbGVzIGRpcmVjdGVtZW50IGRhbnMgbGVzIG9iamV0cyBwYXJlbnRzIHBvdXIgdW4gYWNjw6hzIGZhY2lsZVxuXHRwYXJlbnRfcGxheWVyXzEubGVmdFBhZGRsZSA9IHBhZGRsZV9sZWZ0X3BsYXllcl8xO1xuXHRwYXJlbnRfcGxheWVyXzEucmlnaHRQYWRkbGUgPSBwYWRkbGVfcmlnaHRfcGxheWVyXzE7XG5cdFxuXHRwYXJlbnRfcGxheWVyXzIubGVmdFBhZGRsZSA9IHBhZGRsZV9sZWZ0X3BsYXllcl8yO1xuXHRwYXJlbnRfcGxheWVyXzIucmlnaHRQYWRkbGUgPSBwYWRkbGVfcmlnaHRfcGxheWVyXzI7XG5cdFxuXHRwYXJlbnRfcGxheWVyXzMubGVmdFBhZGRsZSA9IHBhZGRsZV9sZWZ0X3BsYXllcl8zO1xuXHRwYXJlbnRfcGxheWVyXzMucmlnaHRQYWRkbGUgPSBwYWRkbGVfcmlnaHRfcGxheWVyXzM7XG5cdFxuXHRwYXJlbnRfcGxheWVyXzQubGVmdFBhZGRsZSA9IHBhZGRsZV9sZWZ0X3BsYXllcl80O1xuXHRwYXJlbnRfcGxheWVyXzQucmlnaHRQYWRkbGUgPSBwYWRkbGVfcmlnaHRfcGxheWVyXzQ7XG5cblx0cGFkZGxlX2xlZnRfcGxheWVyXzEubWV0YWRhdGEgPSB7IGlzUGxheWVyX3BhZGRsZTogdHJ1ZSB9O1xuXHRwYWRkbGVfcmlnaHRfcGxheWVyXzEubWV0YWRhdGEgPSB7IGlzUGxheWVyX3BhZGRsZTogdHJ1ZSB9O1xuXHRwYWRkbGVfbGVmdF9wbGF5ZXJfMi5tZXRhZGF0YSA9IHsgaXNQbGF5ZXJfcGFkZGxlOiB0cnVlIH07XG5cdHBhZGRsZV9yaWdodF9wbGF5ZXJfMi5tZXRhZGF0YSA9IHsgaXNQbGF5ZXJfcGFkZGxlOiB0cnVlIH07XG5cdHBhZGRsZV9sZWZ0X3BsYXllcl8zLm1ldGFkYXRhID0geyBpc1BsYXllcl9wYWRkbGU6IHRydWUgfTtcblx0cGFkZGxlX3JpZ2h0X3BsYXllcl8zLm1ldGFkYXRhID0geyBpc1BsYXllcl9wYWRkbGU6IHRydWUgfTtcblx0cGFkZGxlX2xlZnRfcGxheWVyXzQubWV0YWRhdGEgPSB7IGlzUGxheWVyX3BhZGRsZTogdHJ1ZSB9O1xuXHRwYWRkbGVfcmlnaHRfcGxheWVyXzQubWV0YWRhdGEgPSB7IGlzUGxheWVyX3BhZGRsZTogdHJ1ZSB9O1xuXG5cdHJldHVybiBbcGFyZW50X3BsYXllcl8xLCBwYXJlbnRfcGxheWVyXzIsIHBhcmVudF9wbGF5ZXJfMywgcGFyZW50X3BsYXllcl80XTtcbn1cblxuLy8gRm9uY3Rpb24gdXRpbGl0YWlyZSBwb3VyIGNyw6llciB1biBwYWRkbGVcbmZ1bmN0aW9uIGNyZWF0ZVBhZGRsZShuYW1lLCBwb3NpdGlvbiwgcGFyZW50KSB7XG5cdGNvbnN0IHBhZGRsZSA9IG5ldyBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChuYW1lLCB7XG5cdFx0d2lkdGg6IDEwLFxuXHRcdGhlaWdodDogMS41LFxuXHRcdGRlcHRoOiAxLjVcblx0fSwgc2NlbmUpO1xuXG5cdHBhZGRsZS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuXHRwYWRkbGUuY2hlY2tQYWRkbGVDb2xsaXNpb24gPSB0cnVlO1xuXHRwYWRkbGUudmlzaWJpbGl0eSA9IDA7XG5cdHBhZGRsZS5zZXRQYXJlbnQocGFyZW50KTtcblx0Y29uc29sZS5sb2coXCJwYXJlbnQgPT09IFwiLCBwYXJlbnQubmFtZSk7XG5cblx0Ly8gRm9uY3Rpb24gcG91ciBpbXBvcnRlciB1biBtZXNoIGpvdWV1clxuXHRmdW5jdGlvbiBpbXBvcnRQbGF5ZXJNZXNoKHBhdGgsIGZpbGVuYW1lKSB7XG5cdFx0QkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIHBhdGgsIGZpbGVuYW1lLCBzY2VuZSwgZnVuY3Rpb24gKG5ld01lc2hlcykge1xuXHRcdFx0Y29uc3Qgcm9vdE1lc2ggPSBuZXdNZXNoZXMuZmluZChtZXNoID0+IG1lc2gubmFtZSA9PT0gXCJfX3Jvb3RfX1wiKTtcblx0XHRcdGlmIChyb290TWVzaCkge1xuXHRcdFx0XHRyb290TWVzaC5wb3NpdGlvbiA9IHBhZGRsZS5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuY2xvbmUoKTtcblx0XHRcdFx0cm9vdE1lc2guc2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoNiwgNiwgNik7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKFwiYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFcIik7XG5cdFx0XHRcdHJvb3RNZXNoLnJvdGF0aW9uUXVhdGVybmlvbiA9IEJBQllMT04uUXVhdGVybmlvbi5Gcm9tRXVsZXJBbmdsZXMoMCwgTWF0aC5QSSwgMCk7XG5cdFx0XHRcdHJvb3RNZXNoLm1ldGFkYXRhID0geyBpc1BsYXllcjogdHJ1ZSB9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocGFyZW50Lm5hbWUgPT09IFwicGFyZW50X3BsYXllcl8xXCIgfHwgcGFyZW50Lm5hbWUgPT09IFwicGFyZW50X3BsYXllcl8yXCIpIHtcblx0XHRcdFx0bmV3TWVzaGVzLmZvckVhY2gobWVzaCA9PiB7XG5cdFx0XHRcdFx0aWYgKG1lc2ggaW5zdGFuY2VvZiBCQUJZTE9OLk1lc2gpIHtcblx0XHRcdFx0XHRcdG1lc2gucm90YXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKE1hdGguUEksIDAsIDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENyw6llciB1biByZXDDqHJlIHBvdXIgbGEgcG9zaXRpb24gZHUgam91ZXVyXG5cdFx0XHRjb25zdCBwbGF5ZXJSZXBlcmUgPSBuZXcgQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJwbGF5ZXJSZXBlcmVcIiwge1xuXHRcdFx0XHR3aWR0aDogMTAsXG5cdFx0XHRcdGhlaWdodDogMC4xLFxuXHRcdFx0XHRkZXB0aDogMVxuXHRcdFx0fSwgc2NlbmUpO1xuXHRcdFx0cGxheWVyUmVwZXJlLnBvc2l0aW9uID0gcGFkZGxlLmdldEFic29sdXRlUG9zaXRpb24oKS5jbG9uZSgpO1xuXHRcdFx0cGxheWVyUmVwZXJlLm1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcInBsYXllclJlcGVyZU1hdFwiLCBzY2VuZSk7XG5cdFx0XHRwbGF5ZXJSZXBlcmUubWF0ZXJpYWwuZW1pc3NpdmVDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMy5SZWQoKTtcblx0XHRcdHBsYXllclJlcGVyZS5tZXRhZGF0YSA9IHsgaXNQbGF5ZXJSZXBlcmU6IHRydWUgfTtcblxuXHRcdFx0Ly8gU3luY2hyb25pc2VyIGxhIHBvc2l0aW9uIEFCU09MVUUgYXZlYyBsZSBwYWRkbGVcblx0XHRcdHNjZW5lLnJlZ2lzdGVyQmVmb3JlUmVuZGVyKCgpID0+IHtcblx0XHRcdFx0Y29uc3QgcGFkZGxlQWJzUG9zID0gcGFkZGxlLmdldEFic29sdXRlUG9zaXRpb24oKTtcblx0XHRcdFx0cm9vdE1lc2gucG9zaXRpb24uY29weUZyb20ocGFkZGxlQWJzUG9zKTtcblx0XHRcdFx0cGxheWVyUmVwZXJlLnBvc2l0aW9uLmNvcHlGcm9tKHBhZGRsZUFic1Bvcyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIFbDqXJpZmljYXRpb24gZHUgcGFyZW50IGV0IGNoYXJnZW1lbnQgZHUgbW9kw6hsZSAzRCBhcHByb3ByacOpXG5cdGlmIChwYXJlbnQubmFtZS5zdGFydHNXaXRoKFwicGFyZW50X3BsYXllcl9cIikpIHtcblx0XHRjb25zb2xlLmxvZyhcIkpFIFNVSVMgTEEgXCIpO1xuXHRcdFxuXHRcdC8vIENhcyBzcMOpY2lhbCBwb3VyIFwicGFyZW50X3BsYXllcl80XCIgYXZlYyBwbHVzaWV1cnMgc2tpbnNcblx0XHRpZiAocGFyZW50Lm5hbWUgPT09IFwicGFyZW50X3BsYXllcl80XCIpIHtcblx0XHRcdGxldCBza2luUGF0aCA9IG51bGw7XG5cdFx0XHRsZXQgc2tpbkZpbGUgPSBudWxsO1xuXG5cdFx0XHRpZiAoY3VycmVudFNraW5QbGF5ZXI0X211bHRpID09PSAwKSB7XG5cdFx0XHRcdHNraW5QYXRoID0gXCIvc3Jjcy9nYW1lL2Fzc2V0cy9wbGF5ZXIvXCI7XG5cdFx0XHRcdHNraW5GaWxlID0gXCJQbGF5ZXJJZGxlQW5uaW1hdGlvbi5nbGJcIjtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGN1cnJlbnRTa2luUGxheWVyNF9tdWx0aSA9PT0gMSkge1xuXHRcdFx0XHRza2luUGF0aCA9IFwiL3NyY3MvZ2FtZS9hc3NldHMvcGxheWVyX3NraW4vXCI7XG5cdFx0XHRcdHNraW5GaWxlID0gXCJpZGxlX2JsZXUuZ2xiXCI7XG5cdFx0XHR9IGVsc2UgaWYgKGN1cnJlbnRTa2luUGxheWVyNF9tdWx0aSA9PT0gMikge1xuXHRcdFx0XHRza2luUGF0aCA9IFwiL3NyY3MvZ2FtZS9hc3NldHMvcGxheWVyX3NraW4vXCI7XG5cdFx0XHRcdHNraW5GaWxlID0gXCJpZGxlX3JvdWdlLmdsYlwiO1xuXHRcdFx0fSBlbHNlIGlmIChjdXJyZW50U2tpblBsYXllcjRfbXVsdGkgPT09IDMpIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllcl9za2luL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiaWRsZV92ZXJ0LmdsYlwiO1xuXHRcdFx0fVxuXG5cdFx0XHRpbXBvcnRQbGF5ZXJNZXNoKHNraW5QYXRoLCBza2luRmlsZSk7XG5cdFx0fSBlbHNlIGlmIChwYXJlbnQubmFtZSA9PT0gXCJwYXJlbnRfcGxheWVyXzNcIikge1xuXHRcdFx0bGV0IHNraW5QYXRoID0gbnVsbDtcblx0XHRcdGxldCBza2luRmlsZSA9IG51bGw7XG5cblx0XHRcdGlmIChjdXJyZW50U2tpblBsYXllcjNfbXVsdGkgPT09IDApIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllci9cIjtcblx0XHRcdFx0c2tpbkZpbGUgPSBcIlBsYXllcklkbGVBbm5pbWF0aW9uLmdsYlwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGN1cnJlbnRTa2luUGxheWVyM19tdWx0aSA9PT0gMSkge1xuXHRcdFx0XHRza2luUGF0aCA9IFwiL3NyY3MvZ2FtZS9hc3NldHMvcGxheWVyX3NraW4vXCI7XG5cdFx0XHRcdHNraW5GaWxlID0gXCJpZGxlX2JsZXUuZ2xiXCI7XG5cdFx0XHR9IGVsc2UgaWYgKGN1cnJlbnRTa2luUGxheWVyM19tdWx0aSA9PT0gMikge1xuXHRcdFx0XHRza2luUGF0aCA9IFwiL3NyY3MvZ2FtZS9hc3NldHMvcGxheWVyX3NraW4vXCI7XG5cdFx0XHRcdHNraW5GaWxlID0gXCJpZGxlX3JvdWdlLmdsYlwiO1xuXHRcdFx0fSBlbHNlIGlmIChjdXJyZW50U2tpblBsYXllcjNfbXVsdGkgPT09IDMpIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllcl9za2luL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiaWRsZV92ZXJ0LmdsYlwiO1xuXHRcdFx0fVxuXG5cdFx0XHRpbXBvcnRQbGF5ZXJNZXNoKHNraW5QYXRoLCBza2luRmlsZSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHBhcmVudC5uYW1lID09PSBcInBhcmVudF9wbGF5ZXJfMlwiKSB7XG5cdFx0XHRsZXQgc2tpblBhdGggPSBudWxsO1xuXHRcdFx0bGV0IHNraW5GaWxlID0gbnVsbDtcblxuXHRcdFx0aWYgKGN1cnJlbnRTa2luUGxheWVyMl9tdWx0aSA9PT0gMCkge1xuXHRcdFx0XHRza2luUGF0aCA9IFwiL3NyY3MvZ2FtZS9hc3NldHMvcGxheWVyL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiUGxheWVySWRsZUFubmltYXRpb24uZ2xiXCI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChjdXJyZW50U2tpblBsYXllcjJfbXVsdGkgPT09IDEpIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllcl9za2luL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiaWRsZV9ibGV1LmdsYlwiO1xuXHRcdFx0fSBlbHNlIGlmIChjdXJyZW50U2tpblBsYXllcjJfbXVsdGkgPT09IDIpIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllcl9za2luL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiaWRsZV9yb3VnZS5nbGJcIjtcblx0XHRcdH0gZWxzZSBpZiAoY3VycmVudFNraW5QbGF5ZXIyX211bHRpID09PSAzKSB7XG5cdFx0XHRcdHNraW5QYXRoID0gXCIvc3Jjcy9nYW1lL2Fzc2V0cy9wbGF5ZXJfc2tpbi9cIjtcblx0XHRcdFx0c2tpbkZpbGUgPSBcImlkbGVfdmVydC5nbGJcIjtcblx0XHRcdH1cblxuXHRcdFx0aW1wb3J0UGxheWVyTWVzaChza2luUGF0aCwgc2tpbkZpbGUpO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKHBhcmVudC5uYW1lID09PSBcInBhcmVudF9wbGF5ZXJfMVwiKSB7XG5cdFx0XHRsZXQgc2tpblBhdGggPSBudWxsO1xuXHRcdFx0bGV0IHNraW5GaWxlID0gbnVsbDtcblxuXHRcdFx0aWYgKGN1cnJlbnRTa2luUGxheWVyMV9tdWx0aSA9PT0gMCkge1xuXHRcdFx0XHRza2luUGF0aCA9IFwiL3NyY3MvZ2FtZS9hc3NldHMvcGxheWVyL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiUGxheWVySWRsZUFubmltYXRpb24uZ2xiXCI7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChjdXJyZW50U2tpblBsYXllcjFfbXVsdGkgPT09IDEpIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllcl9za2luL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiaWRsZV9ibGV1LmdsYlwiO1xuXHRcdFx0fSBlbHNlIGlmIChjdXJyZW50U2tpblBsYXllcjFfbXVsdGkgPT09IDIpIHtcblx0XHRcdFx0c2tpblBhdGggPSBcIi9zcmNzL2dhbWUvYXNzZXRzL3BsYXllcl9za2luL1wiO1xuXHRcdFx0XHRza2luRmlsZSA9IFwiaWRsZV9yb3VnZS5nbGJcIjtcblx0XHRcdH0gZWxzZSBpZiAoY3VycmVudFNraW5QbGF5ZXIxX211bHRpID09PSAzKSB7XG5cdFx0XHRcdHNraW5QYXRoID0gXCIvc3Jjcy9nYW1lL2Fzc2V0cy9wbGF5ZXJfc2tpbi9cIjtcblx0XHRcdFx0c2tpbkZpbGUgPSBcImlkbGVfdmVydC5nbGJcIjtcblx0XHRcdH1cblxuXHRcdFx0aW1wb3J0UGxheWVyTWVzaChza2luUGF0aCwgc2tpbkZpbGUpO1xuXHRcdH1cblxuXHRcdC8vIENhcyBnw6luw6lyYWwgcG91ciBsZXMgYXV0cmVzIGpvdWV1cnNcblx0fVxuXG5cdHJldHVybiBwYWRkbGU7XG59XG5cbmNvbnN0IHBhZGRsZVNwZWVkID0gMS4xO1xuY29uc3Qga2V5cyA9IHt9O1xuXG5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IGtleXNbZXZlbnQua2V5XSA9IHRydWUpO1xuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldmVudCkgPT4ga2V5c1tldmVudC5rZXldID0gZmFsc2UpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRfcGxheWVyX3Bvc19tdWx0aShwbGF5ZXJfMSwgcGxheWVyXzIsIHBsYXllcl8zLCBwbGF5ZXJfNClcbntcblx0dHJ5IHtcbiAgICAgICAgLy8gUsOpaW5pdGlhbGlzZXIgcGxheWVyXzFcbiAgICAgICAgaWYgKHBsYXllcl8xICYmIHBsYXllcl8xLmxlZnRQYWRkbGUgJiYgcGxheWVyXzEucmlnaHRQYWRkbGUpIHtcbiAgICAgICAgICAgIHBsYXllcl8xLmxlZnRQYWRkbGUucG9zaXRpb24ueCA9IC0xODtcbiAgICAgICAgICAgIHBsYXllcl8xLnJpZ2h0UGFkZGxlLnBvc2l0aW9uLnggPSA3O1xuICAgICAgICAgICAgcGxheWVyXzEubGVmdFBhZGRsZS5wb3NpdGlvbi56ID0gLTEyMDtcbiAgICAgICAgICAgIHBsYXllcl8xLnJpZ2h0UGFkZGxlLnBvc2l0aW9uLnogPSAtMTIwO1xuICAgICAgICAgICAgcGxheWVyXzEubGVmdFBhZGRsZS5wb3NpdGlvbi55ID0gMzAxO1xuICAgICAgICAgICAgcGxheWVyXzEucmlnaHRQYWRkbGUucG9zaXRpb24ueSA9IDMwMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFLDqWluaXRpYWxpc2VyIHBsYXllcl8yXG4gICAgICAgIGlmIChwbGF5ZXJfMiAmJiBwbGF5ZXJfMi5sZWZ0UGFkZGxlICYmIHBsYXllcl8yLnJpZ2h0UGFkZGxlKSB7XG4gICAgICAgICAgICBwbGF5ZXJfMi5sZWZ0UGFkZGxlLnBvc2l0aW9uLnggPSAtMzA7XG4gICAgICAgICAgICBwbGF5ZXJfMi5yaWdodFBhZGRsZS5wb3NpdGlvbi54ID0gLTU7XG4gICAgICAgICAgICBwbGF5ZXJfMi5sZWZ0UGFkZGxlLnBvc2l0aW9uLnogPSAtMTA4O1xuICAgICAgICAgICAgcGxheWVyXzIucmlnaHRQYWRkbGUucG9zaXRpb24ueiA9IC0xMDg7XG4gICAgICAgICAgICBwbGF5ZXJfMi5sZWZ0UGFkZGxlLnBvc2l0aW9uLnkgPSAzMDE7XG4gICAgICAgICAgICBwbGF5ZXJfMi5yaWdodFBhZGRsZS5wb3NpdGlvbi55ID0gMzAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUsOpaW5pdGlhbGlzZXIgcGxheWVyXzNcbiAgICAgICAgaWYgKHBsYXllcl8zICYmIHBsYXllcl8zLmxlZnRQYWRkbGUgJiYgcGxheWVyXzMucmlnaHRQYWRkbGUpIHtcbiAgICAgICAgICAgIHBsYXllcl8zLmxlZnRQYWRkbGUucG9zaXRpb24ueCA9IC0zMDtcbiAgICAgICAgICAgIHBsYXllcl8zLnJpZ2h0UGFkZGxlLnBvc2l0aW9uLnggPSAtNTtcbiAgICAgICAgICAgIHBsYXllcl8zLmxlZnRQYWRkbGUucG9zaXRpb24ueiA9IC0zNjtcbiAgICAgICAgICAgIHBsYXllcl8zLnJpZ2h0UGFkZGxlLnBvc2l0aW9uLnogPSAtMzY7XG4gICAgICAgICAgICBwbGF5ZXJfMy5sZWZ0UGFkZGxlLnBvc2l0aW9uLnkgPSAzMDE7XG4gICAgICAgICAgICBwbGF5ZXJfMy5yaWdodFBhZGRsZS5wb3NpdGlvbi55ID0gMzAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUsOpaW5pdGlhbGlzZXIgcGxheWVyXzRcbiAgICAgICAgaWYgKHBsYXllcl80ICYmIHBsYXllcl80LmxlZnRQYWRkbGUgJiYgcGxheWVyXzQucmlnaHRQYWRkbGUpIHtcbiAgICAgICAgICAgIHBsYXllcl80LmxlZnRQYWRkbGUucG9zaXRpb24ueCA9IC0xODtcbiAgICAgICAgICAgIHBsYXllcl80LnJpZ2h0UGFkZGxlLnBvc2l0aW9uLnggPSA3O1xuICAgICAgICAgICAgcGxheWVyXzQubGVmdFBhZGRsZS5wb3NpdGlvbi56ID0gLTI0O1xuICAgICAgICAgICAgcGxheWVyXzQucmlnaHRQYWRkbGUucG9zaXRpb24ueiA9IC0yNDtcbiAgICAgICAgICAgIHBsYXllcl80LmxlZnRQYWRkbGUucG9zaXRpb24ueSA9IDMwMTtcbiAgICAgICAgICAgIHBsYXllcl80LnJpZ2h0UGFkZGxlLnBvc2l0aW9uLnkgPSAzMDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSw6lpbml0aWFsaXNlciDDqWdhbGVtZW50IGxlcyBwb3NpdGlvbnMgZGVzIHBhcmVudHMgc2kgbsOpY2Vzc2FpcmVcbiAgICAgICAgaWYgKHBsYXllcl8xKSBwbGF5ZXJfMS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIGlmIChwbGF5ZXJfMikgcGxheWVyXzIucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICBpZiAocGxheWVyXzMpIHBsYXllcl8zLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcbiAgICAgICAgaWYgKHBsYXllcl80KSBwbGF5ZXJfNC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJQbGF5ZXIgcG9zaXRpb25zIHJlc2V0IHN1Y2Nlc3NmdWxseVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVzZXR0aW5nIHBsYXllciBwb3NpdGlvbnM6XCIsIGVycm9yKTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gVXBkYXRlUExheWVyUG9zZU11bHRpKHBsYXllcl8xLCBwbGF5ZXJfMiwgcGxheWVyXzMsIHBsYXllcl80KSB7XG5cdFxuXHRpZiAoaXNmcmVlemVfdGVhbTEgPT0gZmFsc2UpXG5cdHtcblx0XHRpZiAoa2V5c1tcIndcIl0gJiYgcGxheWVyXzEucG9zaXRpb24ueCA+IG1pblhfcGxheWVyXzEpIHtcblx0XHRcdHBsYXllcl8xLnBvc2l0aW9uLnggLT0gcGFkZGxlU3BlZWQ7XG5cdFx0fVxuXHRcdGlmIChrZXlzW1wic1wiXSAmJiBwbGF5ZXJfMS5wb3NpdGlvbi54IDwgbWF4WF9wbGF5ZXJfMSkge1xuXHRcdFx0cGxheWVyXzEucG9zaXRpb24ueCArPSBwYWRkbGVTcGVlZDtcblx0XHR9XG5cblx0XHRpZiAoa2V5c1tcImVcIl0gJiYgcGxheWVyXzIucG9zaXRpb24ueCA+IG1pblhfcGxheWVyXzIpIHtcblx0XHRcdHBsYXllcl8yLnBvc2l0aW9uLnggLT0gcGFkZGxlU3BlZWQ7XG5cdFx0fVxuXHRcdGlmIChrZXlzW1wiZFwiXSAmJiBwbGF5ZXJfMi5wb3NpdGlvbi54IDwgbWF4WF9wbGF5ZXJfMikge1xuXHRcdFx0cGxheWVyXzIucG9zaXRpb24ueCArPSBwYWRkbGVTcGVlZDtcblx0XHR9XG5cdH1cblxuXHRpZiAoaXNmcmVlemVfdGVhbTEgPT0gdHJ1ZSlcblx0e1xuXHRcdHBsYXllcl8xLnBvc2l0aW9uLnggPSBwbGF5ZXJfMS5wb3NpdGlvbi54O1xuXHRcdHBsYXllcl8yLnBvc2l0aW9uLnggPSBwbGF5ZXJfMi5wb3NpdGlvbi54O1xuXHR9XG5cblx0aWYgKGlzZnJlZXplX3RlYW0yID09IGZhbHNlKVxuXHR7XG5cdFx0aWYgKGtleXNbXCJpXCJdICYmIHBsYXllcl8zLnBvc2l0aW9uLnggPiBtaW5YX3BsYXllcl8zKSB7XG5cdFx0XHRwbGF5ZXJfMy5wb3NpdGlvbi54IC09IHBhZGRsZVNwZWVkO1xuXHRcdH1cblx0XHRpZiAoa2V5c1tcImtcIl0gJiYgcGxheWVyXzMucG9zaXRpb24ueCA8IG1heFhfcGxheWVyXzMpIHtcblx0XHRcdHBsYXllcl8zLnBvc2l0aW9uLnggKz0gcGFkZGxlU3BlZWQ7XG5cdFx0fVxuXHRcdGlmIChrZXlzW1wib1wiXSAmJiBwbGF5ZXJfNC5wb3NpdGlvbi54ID4gbWluWF9wbGF5ZXJfNCkge1xuXHRcdFx0cGxheWVyXzQucG9zaXRpb24ueCAtPSBwYWRkbGVTcGVlZDtcblx0XHR9XG5cdFx0aWYgKGtleXNbXCJsXCJdICYmIHBsYXllcl80LnBvc2l0aW9uLnggPCBtYXhYX3BsYXllcl80KSB7XG5cdFx0XHRwbGF5ZXJfNC5wb3NpdGlvbi54ICs9IHBhZGRsZVNwZWVkO1xuXHRcdH1cblx0fVxuXG5cdGlmIChpc2ZyZWV6ZV90ZWFtMiA9PSB0cnVlKVxuXHR7XG5cdFx0cGxheWVyXzMucG9zaXRpb24ueCA9IHBsYXllcl8zLnBvc2l0aW9uLng7XG5cdFx0cGxheWVyXzQucG9zaXRpb24ueCA9IHBsYXllcl80LnBvc2l0aW9uLng7XG5cdH1cblxuXHRpZiAoa2V5c1tcInhcIl0gJiYgIWlzZnJlZXplX3RlYW0xKSB7XG4gICAgICAgIGFjdGl2YXRlRnJlZXplVGVhbTIoKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5c1tcIjJcIl0gJiYgIWlzZnJlZXplX3RlYW0yKSB7XG4gICAgICAgIGFjdGl2YXRlRnJlZXplVGVhbTEoKTtcbiAgICB9XG5cblxuXHRpZiAoa2V5c1tcInpcIl0pXG5cdHtcblx0XHRncmVuYWRlX2ZsYXNoX1RlYW1fcGxheWVyMV8yKCk7XG5cdH1cblxuXHRpZiAoa2V5c1tcIjFcIl0pXG5cdHtcblx0XHRncmVuYWRlX2ZsYXNoX1RlYW1fcGxheWVyM180KCk7XG5cdH1cbn1cbiJdfQ==