import Home from "./views/Home";
import jouer from "./views/jouer";
import settings from "./views/settings";
import Game_menu from "./views/Game_menu";
import solo_game_1v1 from "./views/solo_game_1v1";
import duo_game from "./views/duo_game";
import multi_player_game from "./views/multi_player_game";
let leave_game_var = false;
const navigateTo = (url) => {
    history.pushState(null, "", url);
    router();
};
const router = async () => {
    const routes = [
        { path: "/", view: Home },
        { path: "/jouer", view: jouer },
        { path: "/settings", view: settings },
        { path: "/Game_menu", view: Game_menu },
        { path: "/solo_game_1v1", view: solo_game_1v1 },
        { path: "/duo_game", view: duo_game },
        { path: "/multi_player_game", view: multi_player_game },
    ];
    const potentialMatches = routes.map((route) => {
        return {
            route: route,
            isMatch: location.pathname === route.path,
        };
    });
    let match = potentialMatches.find((potentialMatch) => potentialMatch.isMatch);
    if (!match) {
        match = {
            route: routes[0],
            isMatch: true,
        };
    }
    const view = new match.route.view();
    const appElement = document.querySelector("#app");
    if (appElement) {
        appElement.innerHTML = await view.getHtml();
    }
    const myScript = document.querySelector("#menu_btn");
    console.log(myScript);
    // On peut utiliser une interface pour typer view
    if (typeof view.initEvents === 'function') {
        view.initEvents();
    }
    if (typeof view.init_solo_game === 'function') {
        view.init_solo_game();
    }
    if (typeof view.Back_to_Menu === 'function') {
        view.Back_to_Menu();
    }
    if (typeof view.Back_to_Menu_duo === 'function') {
        view.Back_to_Menu_duo();
    }
    if (typeof view.game_menu === 'function') {
        view.game_menu();
    }
    if (typeof view.init_solo_game_ai === 'function') {
        view.init_solo_game_ai();
    }
    if (typeof view.init_powerUP_player === 'function') {
        view.init_powerUP_player();
    }
    if (typeof view.update_power_up_players === 'function') {
        view.update_power_up_players();
    }
    if (typeof view.init_powerUP_player_multi === 'function') {
        view.init_powerUP_player_multi();
    }
    if (typeof view.event_solo_game === 'function') {
        view.event_solo_game();
    }
    if (typeof view.leave_game === 'function') {
        view.leave_game();
    }
    if (typeof view.leave_game_multi === 'function') {
        view.leave_game_multi();
    }
    if (typeof view.event_multiPlayer_game === 'function') {
        view.event_multiPlayer_game();
    }
};
window.addEventListener("popstate", router);
document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("click", (e) => {
        const target = e.target;
        if (target.matches("[data-link]")) {
            e.preventDefault();
            navigateTo(target.href);
        }
    });
    router();
});
export function getValue_leave_game() {
    return leave_game_var;
}
export function setLeaveGameVar(value) {
    leave_game_var = value;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wdWJsaWMvc3RhdGljL2pzL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sSUFBSSxNQUFNLGNBQWMsQ0FBQztBQUNoQyxPQUFPLEtBQUssTUFBTSxlQUFlLENBQUM7QUFDbEMsT0FBTyxRQUFRLE1BQU0sa0JBQWtCLENBQUM7QUFDeEMsT0FBTyxTQUFTLE1BQU0sbUJBQW1CLENBQUM7QUFDMUMsT0FBTyxhQUFhLE1BQU0sdUJBQXVCLENBQUM7QUFDbEQsT0FBTyxRQUFRLE1BQU0sa0JBQWtCLENBQUM7QUFDeEMsT0FBTyxpQkFBaUIsTUFBTSwyQkFBMkIsQ0FBQztBQWExRCxJQUFJLGNBQWMsR0FBWSxLQUFLLENBQUM7QUFFcEMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFXLEVBQVEsRUFBRTtJQUN2QyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDakMsTUFBTSxFQUFFLENBQUM7QUFDWCxDQUFDLENBQUM7QUFFRixNQUFNLE1BQU0sR0FBRyxLQUFLLElBQW1CLEVBQUU7SUFDdkMsTUFBTSxNQUFNLEdBQVk7UUFDdEIsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7UUFDekIsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUU7UUFDL0IsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUU7UUFDckMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUU7UUFDdkMsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTtRQUMvQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRTtRQUNyQyxFQUFFLElBQUksRUFB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QU8sSUFBSSxDQUFDLGdCQUFnQixLQUFLLFVBQVUsRUFBRSxDQUFDO1FBQ2hELElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixLQUFLLFVBQVUsRUFBRSxDQUFDO1FBQ3RELElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0lBQ2hDLENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBRTVDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7SUFDakQsUUFBUSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFhLEVBQUUsRUFBRTtRQUN4RCxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBcUIsQ0FBQztRQUN2QyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztZQUNsQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDbkIsVUFBVSxDQUFFLE1BQTRCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxFQUFFLENBQUM7QUFDWCxDQUFDLENBQUMsQ0FBQztBQUVILE1BQU0sVUFBVSxtQkFBbUI7SUFDakMsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQztBQUVELE1BQU0sVUFBVSxlQUFlLENBQUMsS0FBYztJQUM1QyxjQUFjLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSG9tZSBmcm9tIFwiLi92aWV3cy9Ib21lXCI7XG5pbXBvcnQgam91ZXIgZnJvbSBcIi4vdmlld3Mvam91ZXJcIjtcbmltcG9ydCBzZXR0aW5ncyBmcm9tIFwiLi92aWV3cy9zZXR0aW5nc1wiO1xuaW1wb3J0IEdhbWVfbWVudSBmcm9tIFwiLi92aWV3cy9HYW1lX21lbnVcIjtcbmltcG9ydCBzb2xvX2dhbWVfMXYxIGZyb20gXCIuL3ZpZXdzL3NvbG9fZ2FtZV8xdjFcIjtcbmltcG9ydCBkdW9fZ2FtZSBmcm9tIFwiLi92aWV3cy9kdW9fZ2FtZVwiO1xuaW1wb3J0IG11bHRpX3BsYXllcl9nYW1lIGZyb20gXCIuL3ZpZXdzL211bHRpX3BsYXllcl9nYW1lXCI7XG5cbi8vIETDqWZpbml0aW9uIGQnaW50ZXJmYWNlc1xuaW50ZXJmYWNlIFJvdXRlIHtcbiAgcGF0aDogc3RyaW5nO1xuICB2aWV3OiBhbnk7IC8vIElkw6lhbGVtZW50IG9uIGRldnJhaXQgZMOpZmluaXIgdW4gdHlwZSBwbHVzIHByw6ljaXMgaWNpXG59XG5cbmludGVyZmFjZSBSb3V0ZU1hdGNoIHtcbiAgcm91dGU6IFJvdXRlO1xuICBpc01hdGNoOiBib29sZWFuO1xufVxuXG5sZXQgbGVhdmVfZ2FtZV92YXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuY29uc3QgbmF2aWdhdGVUbyA9ICh1cmw6IHN0cmluZyk6IHZvaWQgPT4ge1xuICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiLCB1cmwpO1xuICByb3V0ZXIoKTtcbn07XG5cbmNvbnN0IHJvdXRlciA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3Qgcm91dGVzOiBSb3V0ZVtdID0gW1xuICAgIHsgcGF0aDogXCIvXCIsIHZpZXc6IEhvbWUgfSxcbiAgICB7IHBhdGg6IFwiL2pvdWVyXCIsIHZpZXc6IGpvdWVyIH0sXG4gICAgeyBwYXRoOiBcIi9zZXR0aW5nc1wiLCB2aWV3OiBzZXR0aW5ncyB9LFxuICAgIHsgcGF0aDogXCIvR2FtZV9tZW51XCIsIHZpZXc6IEdhbWVfbWVudSB9LFxuICAgIHsgcGF0aDogXCIvc29sb19nYW1lXzF2MVwiLCB2aWV3OiBzb2xvX2dhbWVfMXYxIH0sXG4gICAgeyBwYXRoOiBcIi9kdW9fZ2FtZVwiLCB2aWV3OiBkdW9fZ2FtZSB9LFxuICAgIHsgcGF0aDogXCIvbXVsdGlfcGxheWVyX2dhbWVcIiwgdmlldzogbXVsdGlfcGxheWVyX2dhbWUgfSxcbiAgXTtcblxuICBjb25zdCBwb3RlbnRpYWxNYXRjaGVzOiBSb3V0ZU1hdGNoW10gPSByb3V0ZXMubWFwKChyb3V0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICByb3V0ZTogcm91dGUsXG4gICAgICBpc01hdGNoOiBsb2NhdGlvbi5wYXRobmFtZSA9PT0gcm91dGUucGF0aCxcbiAgICB9O1xuICB9KTtcblxuICBsZXQgbWF0Y2g6IFJvdXRlTWF0Y2ggfCB1bmRlZmluZWQgPSBwb3RlbnRpYWxNYXRjaGVzLmZpbmQoKHBvdGVudGlhbE1hdGNoKSA9PiBwb3RlbnRpYWxNYXRjaC5pc01hdGNoKTtcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgbWF0Y2ggPSB7XG4gICAgICByb3V0ZTogcm91dGVzWzBdLFxuICAgICAgaXNNYXRjaDogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdmlldyA9IG5ldyBtYXRjaC5yb3V0ZS52aWV3KCk7XG4gIGNvbnN0IGFwcEVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXBwXCIpO1xuICBcbiAgaWYgKGFwcEVsZW1lbnQpIHtcbiAgICBhcHBFbGVtZW50LmlubmVySFRNTCA9IGF3YWl0IHZpZXcuZ2V0SHRtbCgpO1xuICB9XG4gIFxuICBjb25zdCBteVNjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWVudV9idG5cIik7XG4gIGNvbnNvbGUubG9nKG15U2NyaXB0KTtcblxuICAvLyBPbiBwZXV0IHV0aWxpc2VyIHVuZSBpbnRlcmZhY2UgcG91ciB0eXBlciB2aWV3XG4gIGlmICh0eXBlb2Ygdmlldy5pbml0RXZlbnRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmlldy5pbml0RXZlbnRzKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5pbml0X3NvbG9fZ2FtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZpZXcuaW5pdF9zb2xvX2dhbWUoKTtcbiAgfVxuICBcbiAgaWYgKHR5cGVvZiB2aWV3LkJhY2tfdG9fTWVudSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZpZXcuQmFja190b19NZW51KCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5CYWNrX3RvX01lbnVfZHVvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmlldy5CYWNrX3RvX01lbnVfZHVvKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5nYW1lX21lbnUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2aWV3LmdhbWVfbWVudSgpO1xuICB9XG4gIFxuICBpZiAodHlwZW9mIHZpZXcuaW5pdF9zb2xvX2dhbWVfYWkgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2aWV3LmluaXRfc29sb19nYW1lX2FpKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5pbml0X3Bvd2VyVVBfcGxheWVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmlldy5pbml0X3Bvd2VyVVBfcGxheWVyKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy51cGRhdGVfcG93ZXJfdXBfcGxheWVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZpZXcudXBkYXRlX3Bvd2VyX3VwX3BsYXllcnMoKTtcbiAgfVxuICBcbiAgaWYgKHR5cGVvZiB2aWV3LmluaXRfcG93ZXJVUF9wbGF5ZXJfbXVsdGkgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2aWV3LmluaXRfcG93ZXJVUF9wbGF5ZXJfbXVsdGkoKTtcbiAgfVxuICBcbiAgaWYgKHR5cGVvZiB2aWV3LmV2ZW50X3NvbG9fZ2FtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZpZXcuZXZlbnRfc29sb19nYW1lKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5sZWF2ZV9nYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmlldy5sZWF2ZV9nYW1lKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5sZWF2ZV9nYW1lX211bHRpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmlldy5sZWF2ZV9nYW1lX211bHRpKCk7XG4gIH1cbiAgXG4gIGlmICh0eXBlb2Ygdmlldy5ldmVudF9tdWx0aVBsYXllcl9nYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmlldy5ldmVudF9tdWx0aVBsYXllcl9nYW1lKCk7XG4gIH1cbn07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgcm91dGVyKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQubWF0Y2hlcyhcIltkYXRhLWxpbmtdXCIpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBuYXZpZ2F0ZVRvKCh0YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYpO1xuICAgIH1cbiAgfSk7XG4gIFxuICByb3V0ZXIoKTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVfbGVhdmVfZ2FtZSgpOiBib29sZWFuIHtcbiAgcmV0dXJuIGxlYXZlX2dhbWVfdmFyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TGVhdmVHYW1lVmFyKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gIGxlYXZlX2dhbWVfdmFyID0gdmFsdWU7XG59Il19